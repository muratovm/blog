{{ define "main" }}
<script>
  function goUpDirectory() {
    // Remove any #hash
    const url = window.location.href.split('#')[0];
    const urlObj = new URL(url);
  
    // Clean the path
    let path = urlObj.pathname;
    if (path.endsWith('/')) {
      path = path.slice(0, -1); // remove trailing slash
    }
  
    // Go up one directory
    const parentPath = path.substring(0, path.lastIndexOf('/')) || '/';
  
    // Rebuild the URL
    urlObj.pathname = parentPath;
    urlObj.hash = ''; // ensure no leftover hashes
  
    // Redirect
    window.location.href = urlObj.href;
  }
  </script>


<button onclick="goUpDirectory()" style="position: absolute; top: 1rem; left: 1rem; z-index: 1000;">
  â¬… Back
</button>

  <!-- Show banner image-->  
  <div class="banner">
    {{ if .Params.image }}
      <img src="{{ .Params.image }}" alt="Banner image" style="width: 100%; height: auto;">
    {{ end }}
  </div>

  {{ if eq .Type "blog" }}
    {{ if not .Params.menu }}
      {{ $tags := .GetTerms "tags" }}
      {{ $categories := .GetTerms "categories" }}
        <p>
          {{ if gt (len $categories) 0 }}
            Categories:
            {{ range $categories }}
            <code class="tag">
              <a href="{{.RelPermalink }}">#{{ lower .LinkTitle }}</a>&nbsp;
            </code>
            {{ end }}
          {{ end }}
          <br>
          {{ if gt (len $tags) 0 }}
            Tags:
            {{ range $tags }}
            <code class="tag">
              <a href="{{.RelPermalink }}">#{{ lower .LinkTitle }}</a>&nbsp;
            </code>
            {{ end }}
          {{ end }}
        </p>
    {{ end }}
  {{ end }}
  <content>
    {{ .Content }}
  </content>
{{ end }}
