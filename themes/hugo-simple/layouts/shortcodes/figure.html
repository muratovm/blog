<!--
	class: class of the figure
	link: url the image directs to
	alt: alternative text
	caption: caption
	mouse: what the image says when moused over ("title" in HTML)
	preset|size: xs|sm|md|lg|xl|full (optional width preset)
-->
<figure {{ with .Get "class" }}class="{{.}}"{{ end -}}>
	{{- $preset := .Get "preset" | default (.Get "size") | default "md" -}}
	{{- $imgClasses := slice "img-preset" (printf "img-preset-%s" $preset) -}}
	{{- with .Get "link"}}<a href="{{.}}">{{ end -}}
	<img src="{{ .Get "src" }}" 
		 class="{{ delimit $imgClasses " " }}"
		 {{- with .Get "width" }} width="{{ . }}"{{ end -}}
		 {{- with .Get "height" }} height="{{ . }}"{{ end -}}
	     {{- with .Get "mouse" }} title="{{.}}"{{ end -}}
	     {{- with .Get "alt" }} alt="{{.}}"{{ end -}}
	>
	{{- if .Get "link"}}</a>{{ end -}}
	{{- with .Get "caption" -}}
	<figcaption>
	{{- . -}}
	</figcaption>
	{{- end -}}
</figure>
