<style>
    #theme-toggle {
      position: absolute;
      top: 10px;
      right: 10px;
      padding: 10px;
      background-color: #f0f0f0;
      color: #333;
      border: none;
      cursor: pointer;
      border-radius: 25px;
      border-width: 2px;
      border-color: #333;
      border-style: dashed;
    }
</style>
<button id="theme-toggle">‚òÄÔ∏è</button>
<script>

    function set_toggle_properties(body, themeToggle) {
        /*set text and background color of button*/
        themeToggle.textContent = body.classList.contains('dark-mode') ? 'üåô' : '‚òÄÔ∏è';
        themeToggle.style.color = body.classList.contains('dark-mode') ? '#f0f0f0' : '#333';
        themeToggle.style.backgroundColor = body.classList.contains('dark-mode') ? '#333' : '#f0f0f0';
        themeToggle.style.borderColor = body.classList.contains('dark-mode') ? '#f0f0f0' : '#333';
    }

    const themeToggle = document.getElementById('theme-toggle');
    const body = document.body;

    // Toggle dark mode on button click
    themeToggle.addEventListener('click', () => {
        body.classList.toggle('dark-mode');
        set_toggle_properties(body, themeToggle);
        const newTheme = body.classList.contains('dark-mode') ? 'dark-mode' : 'light-mode';
        localStorage.setItem('theme', newTheme);
    });
    
    // Check local storage for theme preference
    const currentTheme = localStorage.getItem('theme');
    if (currentTheme){
        if (currentTheme == "dark-mode") {
            body.classList.toggle('dark-mode');
        }
    }
    else{
        console.log('Current theme not set');
        //Check if dark mode is enabled in the system settings
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches){
            // dark mode
            body.classList.toggle('dark-mode');
        }
    }
    
    set_toggle_properties(body, themeToggle);
</script>